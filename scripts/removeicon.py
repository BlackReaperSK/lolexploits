from lcu_driver import Connector
import time

print("Made by BlackReaper")

connector = Connector()

async def gsi(connection):
  summoner = await connection.request("GET", "/lol-summoner/v1/current-summoner")
  print("Connecting...")
  if summoner.status == 200:
    data = await summoner.json()
    print(f"Connected to {data['displayName']}")
  else:
    print("Erro Couldn't connect to the league.")
    
async def cmps(connection):
    print("Removing the Summoner ICON...")
    try:
      await connection.request("PUT", "/lol-summoner/v1/current-summoner/icon", data={"profileIconId": 29})
      time.sleep(5)
    except:
      print("Error on the change!")
    print("Done!")

@connector.ready

async def connect(connection):
  await gsi(connection)
  await cmps(connection)

@connector.close
async def disconnect(connection):
    print("Connection closed!")

connector.start()
