from lcu_driver import Connector
import time
print("Made by BlackReaper")
connector = Connector()
async def gsi(connection):
  summoner = await connection.request("GET", "/lol-summoner/v1/current-summoner")
  print("Connecting...")
  if summoner.status == 200:
    data = await summoner.json()
    print(f"Connected to {data['displayName']}")
  else:
    print("Error! Couldn't connect to the league.")
async def cmps(connection):
    print("1 -> CHALLENGER | 2 -> GRANDMASTER | 3 -> MASTER | 4 -> DIAMOND | 5 -> PLATINUM | 6 -> GOLD | 7 -> SILVER | 8 -> BRONZE | 9 -> IRON")
    dsrk = input("Desired rank: ")
    print("Spoofing your RANK...")
    if dsrk == "1":
      painkiller = "CHALLENGER"
    elif dsrk == "2":
      painkiller = "GRANDMASTER"
    elif dsrk == "3":
      painkiller = "MASTER"
    elif dsrk == "4":
      painkiller = "DIAMOND"
    elif dsrk == "5":
      painkiller = "PLATINUM"
    elif dsrk == "6":
      painkiller = "GOLD"
    elif dsrk == "7":
      painkiller = "SILVER"
    elif dsrk == "8":
      painkiller = "BRONZE"
    elif dsrk == "9":
      painkiller = "IRON"
    else:
      print("Error choosing the rank!")
      exit()
    try:
      await connection.request("PUT", "/lol-chat/v1/me", data={"lol":{"rankedLeagueTier": painkiller}})
      time.sleep(5) # Prevent Errors
    except:
      print("Error!")
    print("Done!")
@connector.ready
async def connect(connection):
  await gsi(connection)
  await cmps(connection)
@connector.close
async def disconnect(connection):
    print("Connection closed!")
connector.start()
