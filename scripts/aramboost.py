from lcu_driver import Connector
import time

print("Made by BlackReaper")

connector = Connector()

async def gsi(connection):
  summoner = await connection.request("GET", "/lol-summoner/v1/current-summoner")
  print("Connecting...")
  if summoner.status == 200:
    data = await summoner.json()
    print(f"Connected to {data['displayName']}")
  else:
    print("Error! Couldn't connect to the league.")

async def cmps(connection):
    print("Purchasing the boost...")
    try:
      await connection.request("POST", "/lol-champ-select/v1/team-boost/purchase/")
      time.sleep(5) # erro
    except:
      print("Error on the purchase!")
    print("Done!")

@connector.ready
async def connect(connection):
  await icmp(connection)
  await gsi(connection)
  await cmps(connection)

@connector.close
async def disconnect(connection):
    print("Connection closed!")

connector.start()
